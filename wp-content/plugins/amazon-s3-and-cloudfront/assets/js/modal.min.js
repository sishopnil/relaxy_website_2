var as3cfModal=function(a){var o={prefix:"as3cf",loading:!1,dismissible:!0},e={};function d(a){return a.replace(/[^a-z]/g,"")}return o.exists=function(o){var s=d(o);return void 0!==e[s]||!!a(o).length},o.open=function(s,i,n){var t=d(s);a("body").append('<div id="as3cf-overlay"></div>');var c=a("#as3cf-overlay");o.dismissible?c.append('<div id="as3cf-modal"><span class="close-as3cf-modal">Ã—</span></div>'):c.append('<div id="as3cf-modal"></div>');var f=a("#as3cf-modal");if(void 0===e[t]){var l=a(s);e[t]=l.clone(!0).css("display","block"),l.remove()}f.data("as3cf-modal-target",s).append(e[t]),void 0!==n&&f.addClass(n),"function"==typeof i&&i(s),a("body").addClass("as3cf-modal-open"),c.fadeIn(150),f.fadeIn(150),a("body").trigger("as3cf-modal-open",[s])},o.close=function(e){if(!o.loading&&o.dismissible){var d=a("#as3cf-modal").data("as3cf-modal-target");a("#as3cf-overlay").fadeOut(150,function(){a("body").removeClass("as3cf-modal-open"),a(this).remove(),"function"==typeof e&&e(d)}),a("body").trigger("as3cf-modal-close",[d])}},o.setLoadingState=function(a){o.loading=a},o.setDismissibleState=function(a){o.dismissible=a},a(document).ready(function(){a("body").on("click","[data-as3cf-modal]",function(e){e.preventDefault(),o.open(a(this).data("as3cf-modal")+"."+o.prefix)}),a("body").on("click","#as3cf-overlay, .close-as3cf-modal",function(a){if("A"!==a.target.tagName){if(a.preventDefault(),a.target!==this)return!1;o.close()}})}),o}(jQuery);