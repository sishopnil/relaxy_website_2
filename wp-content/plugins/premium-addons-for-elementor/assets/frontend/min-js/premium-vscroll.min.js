!function(W){function e(e,t){var o=elementorFrontend.getCurrentDeviceMode(),r="elementor-hidden-"+o;if("mobile"===o&&(r="elementor-hidden-phone"),!e.closest("section.elementor-element").hasClass(r)){var n=e.find(".premium-vscroll-wrap"),i=n.data("settings");i.deviceType=o,new premiumVerticalScroll(n,i).init()}}window.premiumVerticalScroll=function(e,b){var D=this,k=W(window),t=elementorFrontend.getCurrentDeviceMode(),x=!["desktop","widescreen","laptop"].includes(t),H=e,O=e.find(".premium-vscroll-sections-wrap").length,i=W("html, body"),E=W(".premium-vscroll-dot-item",H),l=W(".premium-vscroll-nav-item",H),M=(b=W.extend({},{speed:700,offset:0,fullSection:!0},b),{}),a=null,A=!1,V=!0,F=[],f=0,h=0;function I(e){return Object.keys(e)[0]}function j(e){return Object.keys(e)[Object.keys(e).length-1]}jQuery.extend(jQuery.easing,{easeInOutCirc:function(e,t,o,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+o:r/2*(Math.sqrt(1-(t-=2)*t)+1)+o}}),D.init=function(){(b.fullTouch||!x&&b.fullSection)&&b.fullCheckOverflow&&D.setSectionsOverflow(),D.setSectionsData(),D.vscrollEffects(),E.on("click.premiumVerticalScroll",D.onNavDotChange),l.on("click.premiumVerticalScroll",D.onNavDotChange),E.on("mouseenter.premiumVerticalScroll",D.onNavDotEnter),E.on("mouseleave.premiumVerticalScroll",D.onNavDotLeave),"desktop"===b.deviceType&&k.on("scroll.premiumVerticalScroll",D.onWheel),k.on("resize.premiumVerticalScroll orientationchange.premiumVerticalScroll",D.debounce(50,D.onResize)),k.on("load",function(){D.setSectionsData(),(b.fullTouch||!x&&b.fullSection)&&D.sectionsOverflowRefresh(),D.checkCurrentActive()}),D.keyboardHandler(),D.scrollHandler(),b.fullSection&&D.fullSectionHandler(),b.animation&&H.find(".premium-vscroll-dots").removeClass("elementor-invisible").addClass("animated "+b.animation+" animated-"+b.duration)},D.checkCurrentActive=function(){var e=Object.keys(M)[0],t=M[e].offset;t>=k.scrollTop()&&t-k.scrollTop()<200&&(a=1,E.removeClass("active"),W(E[0]).addClass("active")),a&&H.find(".premium-vscroll-dots").removeClass("premium-vscroll-dots-hide")},D.setSectionsOverflow=function(){E.each(function(){var e=W(this).data("menuanchor"),t=H.find(".premium-vscroll-sections-wrap").data("animation"),o=W("#"+e),r=t?o.find("> div").outerHeight():o.outerHeight();if(r>k.outerHeight()&&50<=r-k.outerHeight()){o.find(O?".elementor":".elementor-container").first().wrapInner("<div id='scroller-"+e+"'></div>");var n="mobile"===elementorFrontend.getCurrentDeviceMode()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?k.outerHeight()+100+"px":k.outerHeight();W("#scroller-"+e).slimScroll({height:n,railVisible:!1,touchScrollStep:60});var i=new IScroll("#scroller-"+e,{mouseWheel:!0,scrollbars:!0,hideScrollbars:!0,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!1});W("#scroller-"+e).data("iscrollInstance",i),setTimeout(function(){i.refresh()},1500)}})},D.sectionsOverflowRefresh=function(){E.each(function(){var e=W(this).data("menuanchor"),t=W("#scroller-"+e).data("iscrollInstance");t&&t.refresh()})},D.setSectionsData=function(){E.each(function(){var e=W(this).data("menuanchor"),t=W("#"+e),o=t.outerHeight();t[0]&&(M[e]={selector:t,offset:Math.round(t.offset().top),height:o})})},D.fullSectionHandler=function(){var e=document.getElementById(H.attr("id"));x&&b.fullTouch?(document.addEventListener("touchstart",D.onTouchStart),document.addEventListener("touchmove",D.onTouchMove,{passive:!1})):O?document.addEventListener?e.addEventListener("wheel",D.onWheel,{passive:!1}):e.attachEvent("onmousewheel",D.onWheel):document.addEventListener?document.addEventListener("wheel",D.onWheel,{passive:!1}):document.attachEvent("onmousewheel",D.onWheel)},D.scrollHandler=function(){var e=0;for(var t in M){var o=M[t].selector;elementorFrontend.waypoint(o,function(){var e=W(this).attr("id");A||(a=e,E.removeClass("active"),l.removeClass("active"),W("[data-menuanchor="+e+"]",H).addClass("active"))},{offset:0!==e?"0%":"-1%",triggerOnce:!1}),e++}},D.keyboardHandler=function(){W(document).keydown(function(e){38==e.keyCode&&D.onKeyUp(e,"up"),40==e.keyCode&&D.onKeyUp(e,"down")})},D.isScrolled=function(e,t){var o=W("#scroller-"+e),r=o.data("iscrollInstance");return!r||("down"===t?0-r.y+o.scrollTop()+1+o.innerHeight()>=o[0].scrollHeight:"up"===t?0<=r.y&&!o.scrollTop():void 0)},D.getEventsPage=function(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,x&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},D.onTouchStart=function(e){V=!0;var t=D.getEventsPage(e);f=t.y},D.onTouchMove=function(e){if(V&&D.preventDefault(e),A)return D.preventDefault(e),!1;var t=D.getEventsPage(e);h=t.y;var o=W(e.target),r=O?".premium-vscroll-temp":".elementor-top-section",n=o.closest(r).attr("id"),i=!1,l=!1,a=!1,s=!1,c=k.scrollTop();W(".premium-vscroll-tooltip").hide(),P()&&(n=D.getFirstSection(M)),L()&&(n=D.getLastSection(M));var m=(new Date).getTime();149<F.length&&F.shift(),F.push(Math.abs(h));var u=m-N;if(N=m,200<u&&(F=[]),h<f?s="down":f<h&&(s="up"),n&&M.hasOwnProperty(n)){l=D.checkPrevSection(M,n),a=D.checkNextSection(M,n),"up"===s&&(i=!a&&M[n].offset<c?n:l),"down"===s&&(i=!l&&M[n].offset-b.offset>c+5?n:a);var d=D.getAverage(F,10),v=D.getAverage(F,70)<=d;if(i){if(V=!0,H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),!D.isScrolled(n,s))return;v&&!A&&D.onAnchorChange(i)}else{d<=5&&(V=!1);var p=O?H:W("#"+n);"down"===s?600<p.offset().top+p.innerHeight()-W(document).scrollTop()&&H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"===s&&200<p.offset().top-W(document).scrollTop()&&H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")}}else V=!1},D.scrollStop=function(){i.stop(!0)},D.checkNextSection=function(e,t){var o=Object.keys(e),r=o.indexOf(t),n=r+=1;return!(n>=o.length)&&o[n]},D.checkPrevSection=function(e,t){var o=Object.keys(e),r=o.indexOf(t),n=--r;return!(r<0)&&o[n]},D.debounce=function(t,o){var r;return function(e){r&&clearTimeout(r),r=setTimeout(function(){o.call(this,e),r=null},t)}},D.visible=function(e,t,o){var r=e.get(0),n=k.outerHeight(),i=!0!==o||r.offsetWidth*r.offsetHeight;if("function"==typeof r.getBoundingClientRect){var l=r.getBoundingClientRect(),a=0<=l.top&&l.top<n,s=0<l.bottom&&l.bottom<=n,c=t?a||s:a&&s;c=l.top<0&&l.bottom>n||c;return i&&c}var m=0+n,u=k.position().top,d=u+k.height();return!!i&&(!0===t?u:d)<=m&&0<=(!0===t?d:u)},D.onNavDotEnter=function(){var e=W(this),t=e.data("index");b.tooltips&&(W(".premium-vscroll-tooltip").remove(),W('<div class="premium-vscroll-tooltip"><span>'+b.dotsText[t]+"</span></div>").hide().appendTo(e).fadeIn(200))},D.onNavDotLeave=function(){W(".premium-vscroll-tooltip").fadeOut(200,function(){W(this).remove()})},D.onNavDotChange=function(e){var t=W(this),o=t.index(),r=t.data("menuanchor"),n=null;if(!M.hasOwnProperty(r))return!1;(n=M[r].offset-b.offset)<0&&(n=M[r].offset),A||(A=!0,a=r,l.removeClass("active"),E.removeClass("active"),t.hasClass("premium-vscroll-nav-item")?W(E[o]).addClass("active"):W(l[o]).addClass("active"),t.addClass("active"),i.stop().clearQueue().animate({scrollTop:n},b.speed,"easeInOutCirc",function(){A=!1}))},D.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},D.onAnchorChange=function(e){var t=W("[data-menuanchor="+e+"]",H),o=null;if(!M.hasOwnProperty(e))return!1;(o=M[e].offset-b.offset)<0&&(o=M[e].offset),A||(A=!0,b.addToHistory&&window.history.pushState(null,null,"#"+e),a=e,E.removeClass("active"),l.removeClass("active"),t.addClass("active"),i.animate({scrollTop:o},b.speed,"easeInOutCirc"),setTimeout(function(){A=!1},b.speed<700?700:b.speed))},D.onKeyUp=function(e,t){1===a&&(a=E.eq(0).data("menuanchor"));t=t||"up";var o=W(".premium-vscroll-dot-item[data-menuanchor="+a+"]",H).next(),r=W(".premium-vscroll-dot-item[data-menuanchor="+a+"]",H).prev();if(e.preventDefault(),A)return!1;var n=D.visible(H,!0,!1),i=W(".premium-vscroll-dot-item.active").index(),l=H.find(".premium-vscroll-sections-wrap").data("animation");"up"===t?r[0]&&(r.trigger("click.premiumVerticalScroll"),i!==E.length-1||n?i===E.length-1&&H.offset().top+H.innerHeight()-W(document).scrollTop()<600?r=W(".premium-vscroll-dot-item[data-menuanchor="+a+"]",H):(H.find(".premium-vscroll-sections-wrap[data-animation="+l+"] .premium-vscroll-temp:last-of-type>div").removeClass("premium-vscroll-parallax-last"),H.find(".premium-vscroll-sections-wrap[data-animation="+l+"] .premium-vscroll-temp>div").removeClass("premium-vscroll-parallax-position")):r=W(".premium-vscroll-dot-item[data-menuanchor="+a+"]",H)):o[0]&&(o.trigger("click.premiumVerticalScroll"),200<H.offset().top-W(document).scrollTop()&&(o=W(".premium-vscroll-dot-item[data-menuanchor="+a+"]",H)))};var N=(new Date).getTime();function P(){var e=k.scrollTop(),t=I(M),o=M[t].offset,r=e+k.outerHeight(),n=D.visible(H,!0,!1);return!(o<r)&&!!n}function L(){var e=k.scrollTop(),t=j(M),o=M[t].offset+M[t].height,r=D.visible(H,!0,!1);return!(e<o)&&!!r}D.onWheel=function(e){V&&!x&&D.preventDefault(e);var t,o=W(e.target),r=O?".premium-vscroll-temp":".elementor-top-section",n=o.closest(r).attr("id"),i=D.visible(H,!0,!1),l=!1,a=!1,s=!1,c=(t=(t=e)||window.event).wheelDelta||-t.deltaY||-t.detail,m=Math.max(-1,Math.min(1,c))<0?"down":"up",u=k.scrollTop(),d=W(".premium-vscroll-dot-item.active").index(),v=(new Date).getTime();149<F.length&&F.shift(),F.push(Math.abs(c));var p,f,h,g,w,C=v-N;if(N=v,200<C&&(F=[]),p=W(event.target),f=O?".premium-vscroll-temp":".elementor-top-section",h=p.closest(f).attr("id"),g=O?H:W("#"+h),(w=H.find(".premium-vscroll-sections-wrap").data("animation"))&&(g.offset().top+g.innerHeight()-W(document).scrollTop()+b.offset<k.outerHeight()?(H.find(".premium-vscroll-sections-wrap[data-animation="+w+"] .premium-vscroll-temp:last-of-type > div").addClass("premium-vscroll-parallax-last"),H.find(".premium-vscroll-sections-wrap[data-animation="+w+"] .premium-vscroll-temp>div").addClass("premium-vscroll-parallax-position")):(H.find(".premium-vscroll-sections-wrap[data-animation="+w+"] .premium-vscroll-temp:last-of-type > div").removeClass("premium-vscroll-parallax-last"),H.find(".premium-vscroll-sections-wrap[data-animation="+w+"] .premium-vscroll-temp > div").removeClass("premium-vscroll-parallax-position"))),x&&(W(".premium-vscroll-tooltip").hide(),d!==E.length-1||i?0!==d||i?H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"):200<H.offset().top-W(document).scrollTop()&&H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")),P()&&(n=I(M)),L()&&(n=j(M)),n&&M.hasOwnProperty(n)){a=D.checkPrevSection(M,n),s=D.checkNextSection(M,n),l="up"==m?!s&&M[n].offset<u?n:a:!a&&M[n].offset-b.offset>u+5?n:s;var S=D.getAverage(F,10),y=D.getAverage(F,70)<=S;if(l){if(V=!0,!D.isScrolled(n,m)&&!x)return;H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide");W("#scroller-"+l).data("iscrollInstance");y&&!A&&D.onAnchorChange(l)}else{S<=5&&(V=!1);var T=O?H:W("#"+n);"down"==m?600<T.offset().top+T.innerHeight()-W(document).scrollTop()&&H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"==m&&H.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")}}},D.onResize=function(){D.setSectionsData(),D.sectionsOverflowRefresh()},D.getAverage=function(e,t){for(var o=0,r=e.slice(Math.max(e.length-t,1)),n=0;n<r.length;n++)o+=r[n];return Math.ceil(o/t)},D.vscrollEffects=function(){var m=H.find(".premium-vscroll-sections-wrap").data("animation");if(m){var e=H.find(".premium-vscroll-temp");function t(){0<W(".eb-project-overlay").length||(window.requestAnimationFrame?window.requestAnimationFrame(o):o())}function o(){var s=W(window).scrollTop(),c=W(window).height();e.each(function(){var e,t,o,r,n,i=W(this),l=s-i.offset().top,a=function(e,t,o){var r=100,n="0deg",i=1,l=1;-t<=e&&e<=0?(r=100*-e/t,"rotate"===o?(r=0,n="0deg"):"scaleDown"===o&&(i=l=1)):0<e&&e<=t?"rotate"===o?(i=(1-e/t).toFixed(5),n=100*e/t+"deg",r=0):"scaleDown"===o?(l=(1-.3*e/t).toFixed(5),i=(1-e/t).toFixed(5),r=0,0):r=50*-e/t:e<-t?(r=100,"scaleDown"===o&&(i=l=1)):"rotate"===o?(r=0,n="90deg"):r="scaleDown"===o?(i=.7,l=0):-50;return[r,n,i,l]}(l,c,m);e=i.children("div"),t=a[0],o=a[1],r=a[2],n=a[3],e.css({transform:"translateY("+t+"vh) rotateX("+o+") scale("+n+")",opacity:r}),0<=l&&l<c?i.addClass("visible"):i.removeClass("visible")})}t(),W(window).on("scroll",t)}}},W(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-vscroll.default",e)})}(jQuery);